using Unimake.Business.DFe.Servicos;
using Unimake.Business.Security;

var builder = WebApplication.CreateBuilder(args);
var app = builder.Build();

app.MapGet("/", () =>
{
    string CertificadoEmBase64 = @"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";
    byte[] CertificaodByttes = Convert.FromBase64String(CertificadoEmBase64);

    var certificadoService = new CertificadoDigital();
    var CertificadoSelecionado = certificadoService.CarregarCertificadoDigitalA1(CertificaodByttes, "Sophos@1234");

    var config = new Configuracao
    {
        TipoDFe = TipoDFe.NFe,
        TipoEmissao = TipoEmissao.Normal,
        TipoAmbiente = TipoAmbiente.Homologacao,
        CertificadoDigital = CertificadoSelecionado
    };

    return config.CertificadoDigital != null ? config.CertificadoDigital.Subject + "Testee" : "Falha ao carregar o certificado.";
});

app.Run();
